<ion-content class="ion-padding">
  <ion-item-group>
    <div class="form-title-block">
      <h2 class="form-title">Legg til ny bruker</h2>
    </div>
    <ion-list>
      <ion-accordion-group expand="inset">
      <ion-accordion value="editOrganization">
        <ion-item slot="header">
        <ion-label class="accordion-title">Rediger organisasjon</ion-label>
      </ion-item>
        <div class="ion-padding accordion-description" slot="content">
          <form (ngSubmit)="onSubmitOrganizationChanges()">
            <div class="form-input-block">

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">Navn:</ion-label>
                <ion-input [(ngModel)]="changesOrganization.name" ngModel required [clearInput]="true">{{this.accountService.organization?.name}}</ion-input>
              </ion-item>

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">Organisasjonsnummer:</ion-label>
                <ion-input [(ngModel)]="changesOrganization.number"[clearInput]="true">{{this.accountService.organization?.number}}</ion-input>
              </ion-item>

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">Email:</ion-label>
                <ion-input  [(ngModel)]="changesOrganization.email" type="email" [clearInput]="true">{{this.accountService.organization?.email}}</ion-input>
              </ion-item>

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">Telefonnummer:</ion-label>
                <ion-input [(ngModel)]="changesOrganization.phone" type="number" [clearInput]="true">{{this.accountService.organization?.phone}}</ion-input>
              </ion-item>

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">Postnummer:</ion-label>
                <ion-input [(ngModel)]="changesOrganization.postalcode" type="number" [clearInput]="true">{{this.accountService.organization?.postalcode}}</ion-input>
              </ion-item>

              <ion-item class="form-item" color="input-background">
                <ion-label position="stacked">By:</ion-label>
                <ion-input [(ngModel)]="changesOrganization.city" type="number" [clearInput]="true">{{this.accountService.organization?.city}} </ion-input>
              </ion-item>
          </div>
          <div class="form-button-container">
            <ion-button class="form-button" color="register" (click)="validateInformation()">
              Registrer
            </ion-button>
          </div>
        </form>
        </div>
      </ion-accordion>

      <ion-accordion>
        <ion-item slot="header">
          <ion-label class="accordion-title">Brukere</ion-label>
        </ion-item>
        <div slot="content">
        <ion-list>
          <ion-item-group>
            <ion-text>LÃ¥netakere</ion-text>
          <ion-item  *ngFor="let user of allUsers | async">
          <ion-card *ngIf="user.roleid === 1">
            <ion-card-header><ion-card-title>{{user.firstname}} &nbsp; {{user.lastname}}</ion-card-title>
              <ion-card-subtitle>Brukernavn: &nbsp; {{user.username}}</ion-card-subtitle>

            </ion-card-header>
          </ion-card>
        </ion-item>
      </ion-item-group>
        </ion-list>
        </div>
      </ion-accordion>
    </ion-accordion-group>
    </ion-list>
  </ion-item-group>
  </ion-content>
